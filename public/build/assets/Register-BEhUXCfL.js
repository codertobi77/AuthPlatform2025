import{m as _,r as d,K as N,j as e,L as w,$ as b}from"./app-DLgzTWCO.js";import{T as o,I as i}from"./TextInput-C2piIbPP.js";import{I as l}from"./InputLabel-Ch-je4MN.js";import{P as C}from"./PrimaryButton-Cqa0mTdU.js";import{G as y}from"./GuestLayout-CoLwP5rF.js";function E({groups:u,redirectUrl:n,services:c,filieres:p}){const{data:a,setData:r,post:x,processing:v,errors:t,reset:f}=_({email:"",tel:"",group_id:"",password:"",password_confirmation:"",firstname:"",lastname:"",service_id:"",filiere_id:"",active_status:0,avatar:"/public/icons/avatar.svg",dark_mode:0,messenger_color:"blue",redirectUrl:n}),[m,j]=d.useState(!1),{csrf_token:g}=N().props;d.useEffect(()=>{j(String(a.group_id)==="7")},[a.group_id]);const h=s=>{s.preventDefault(),x(route("register"),{onFinish:()=>f("password","password_confirmation")})};return e.jsxs(y,{children:[e.jsx(w,{title:"S'inscrire"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl text-center font-semibold text-gray-800",children:"Inscription"}),e.jsx("p",{className:"mt-2 text-sm text-center text-gray-600",children:"Veuillez remplir les informations suivantes pour créer votre compte."})]}),e.jsxs("form",{onSubmit:h,children:[e.jsx("input",{type:"hidden",name:"_token",value:g}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"firstname",value:"Prénom"}),e.jsx(o,{id:"firstname",name:"firstname",value:a.firstname,className:"mt-1 block w-full",autoComplete:"firstname",isFocused:!0,onChange:s=>r("firstname",s.target.value),required:!0}),e.jsx(i,{message:t.firstname,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",value:"Nom"}),e.jsx(o,{id:"lastname",name:"lastname",value:a.lastname,className:"mt-1 block w-full",autoComplete:"lastname",onChange:s=>r("lastname",s.target.value),required:!0}),e.jsx(i,{message:t.lastname,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"email",value:"Email"}),e.jsx(o,{id:"email",type:"email",name:"email",value:a.email,className:"mt-1 block w-full",autoComplete:"username",onChange:s=>r("email",s.target.value),required:!0}),e.jsx(i,{message:t.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"tel",value:"Téléphone"}),e.jsx(o,{id:"tel",type:"number",name:"tel",value:a.tel,className:"mt-1 block w-full",onChange:s=>r("tel",s.target.value),required:!0}),e.jsx(i,{message:t.tel,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"group_id",children:"Groupe"}),e.jsxs("select",{id:"group_id",name:"group_id",value:a.group_id,onChange:s=>r("group_id",s.target.value),className:"w-full px-4 py-2 mt-1 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:" - - - - -"}),u.map(s=>e.jsx("option",{value:s.id,children:s.data_cat},s.id))]}),t.group_id&&e.jsx("p",{className:"text-red-500 text-sm",children:t.group_id})]}),m&&e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"filiere_id",value:"Filière"}),e.jsxs("select",{id:"filiere_id",name:"filiere_id",value:a.filiere_id,onChange:s=>r("filiere_id",s.target.value),className:"w-full px-4 py-2 mt-1 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:" - - - - -"}),p.map(s=>e.jsx("option",{value:s.id,children:s.data_cat},s.id))]}),e.jsx(i,{message:t.filiere_id,className:"mt-2"})]}),!m&&a.group_id&&e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"service_id",value:"Service"}),e.jsxs("select",{id:"service_id",name:"service_id",value:a.service_id,onChange:s=>r("service_id",s.target.value),className:"w-full px-4 py-2 mt-1 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:" - - - - -"}),c.map(s=>e.jsx("option",{value:s.id,children:s.data_cat},s.id))]}),e.jsx(i,{message:t.service_id,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"password",value:"Mot de passe"}),e.jsx(o,{id:"password",type:"password",name:"password",value:a.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:s=>r("password",s.target.value),required:!0}),e.jsx(i,{message:t.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"password_confirmation",value:"Confirmer le mot de passe"}),e.jsx(o,{id:"password_confirmation",type:"password",name:"password_confirmation",value:a.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:s=>r("password_confirmation",s.target.value),required:!0}),e.jsx(i,{message:t.password_confirmation,className:"mt-2"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(C,{className:"w-full",disabled:v,children:"S'inscrire"})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",e.jsx(b,{href:"login"+(n!="/dashboard"?"?redirect_url="+n:""),className:"rounded-md text-sm text-indigo-600 underline hover:text-indigo-900 focus:outline-none",children:"Se connecter ?"})]})})]})]})}export{E as default};
